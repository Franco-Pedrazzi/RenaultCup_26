<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Copa Renault</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Nuestro CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
  <nav class="navbar bg-body-tertiary">
    <!--logo -->
    <div class="container-fluid">
      <a class="navbar-brand" href="#">
        <img src="/static/images/coparenault.png" alt="Logo" width="30" height="24"
          class="d-inline-block align-text-top">
        Copa Renault
      </a>
  
      <!-- botones de navegación como botones -->
<div class="d-flex gap-2">
    <button type="button" class="btn btn-light" onclick="location.href='http://127.0.0.1:5000/'">Inicio</button>
    <button type="button" class="btn btn-light" onclick="location.href='http://127.0.0.1:5000/cantina'">Cantina</button>
    {% if current_user.rango=="admin" %}
    <button type="button" class="btn btn-light" onclick="location.href='http://127.0.0.1:5000/staff'">staff</button>
    {% endif %}
    <!-- Dropdown Equipos -->
    <div class="btn-group">
        <button type="button" class="btn btn-light dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
            Equipos
        </button>
        <ul class="dropdown-menu">
            <li><a class="dropdown-item" onclick="location.href='http://127.0.0.1:5000/equipos'">Colegios participantes</a></li>
            <li><a class="dropdown-item" onclick="location.href='http://127.0.0.1:5000/inscripcion'">Inscripcion de Equipo</a></li>

        </ul>
    </div>

    <button type="button" class="btn btn-light" onclick="location.href='http://127.0.0.1:5000/sponsors'">Sponsors</button>
    <button type="button" class="btn btn-light" onclick="location.href='http://127.0.0.1:5000/fixtures/Deporte'">Fixture</button>
</div>


  </div>
    {% if current_user.rango=="A" %}
    <li class="nav-item">
        <a class="nav-link" href="#">+</a>
      </li>
    {% else %}
      <li class="nav-item">
        <a class="nav-link" href="#">+</a>
      </li>
    {% endif %}
    <div>

      {% if current_user.is_authenticated %}
      <span>Bienvenido/a {{ current_user.Nombre }}</span>
      <form action="{{ url_for('logout') }}" method="get" style="display:inline;">
        <button type="submit">Cerrar sesión</button>
        <button type="button" class="btn btn-light">Cerrar sesiónnnn</button>
      </form>
      {% else %}
      <button type="button" class="btn btn-light" onclick="location.href='http://127.0.0.1:5000/login'">Login</button>
      <button type="button" class="btn btn-light" onclick="location.href='http://127.0.0.1:5000/singup'">Sing Up</button>
      {% endif %}
    </div>
  </nav>

  {% block body %}{% endblock %}

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js">
    async function fetchData() {
      const apiUrl = 'http://127.0.0.1:5000/loginGET';
      try {
        const response = await fetch(apiUrl, {
          credentials: 'include'
        });
        if (!response.ok) {
          throw new Error(`Network error: ${response.status}`);
        }
        const data = await response.json();
        console.log('Data received:', data);
      } catch (error) {
        console.error('Error fetching data:', error);
      }
    }
  
  </script>
  <footer>
    <img src="../static/images/icons/instagram.png" style="width: 3%; height:3% ">
    <p>&copy; 2025 Copa Renault. Todos los derechos reservados.</p>
  </footer>
</body>

</html>